"use strict";(self.webpackChunksocialmedia_website=self.webpackChunksocialmedia_website||[]).push([[229,689],{6505:function(e,n,r){r.d(n,{_:function(){return t},o:function(){return s}});var t="https://yanji-social.onrender.com",s="https://yanji-social.onrender.com"},2689:function(e,n,r){r.r(n),r.d(n,{default:function(){return d}});var t=r(3504),s=r(6871),a=r(7345),c=r(2114),i=r(9434),o=r(3749),u=r(51),l=r(3329),d=function(e){var n=e.title,r=e.link,d=(0,i.v9)((function(e){var n;return null===(n=e.auth.login.currentUser)||void 0===n?void 0:n.data})),f=(0,i.v9)((function(e){var n;return null===(n=e.auth.login.currentUser)||void 0===n?void 0:n.data._id})),m=(0,i.I0)(),p=(0,s.s0)(),h=function(){(0,u.kS)(m,p)};return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("nav",{className:"py-3 header-navbar",children:(0,l.jsxs)("div",{className:"container d-flex align-items-center",style:{height:"100%"},children:[(0,l.jsx)(t.rU,{to:"/",className:"logo mb-0",children:"Yanji Social"}),(0,l.jsxs)("div",{className:"search-bar d-flex align-items-center",children:[(0,l.jsx)(a.Z,{}),(0,l.jsx)(c.Z.Control,{className:"ms-4",type:"search",placeholder:"Search for creators, ideas and projects"})]}),(0,l.jsxs)("div",{className:"d-flex justify-content-end align-items-center",style:{width:"12%"},children:[d?(0,l.jsx)(t.rU,{to:"/logout",className:"btn btn-danger d-flex align-items-center justify-content-center gap-4",htmlFor:"#logout",onClick:h,children:"Logout"}):(0,l.jsx)(t.rU,{to:r,className:"nav__btn d-flex align-items-center justify-content-center gap-4",htmlFor:"#create-post",children:n}),(0,l.jsx)(t.rU,{"aria-label":"Avatar user",to:d?"/user/".concat(f):"/",className:"profile-pic ms-4",children:(0,l.jsx)("img",{loading:"lazy",role:"presentation",decoding:"async",src:o,alt:"Avatar user"})})]})]})})})}},4229:function(e,n,r){r.r(n),r.d(n,{default:function(){return z}});var t=r(7573),s=r(2689),a=r(885),c=r(2791),i=r(9434),o=r(8904),u=r(4165),l=r(5861),d=r(5671),f=r(3144),m=r(7391),p=function(){function e(){(0,d.Z)(this,e)}return(0,f.Z)(e,[{key:"getAllRooms",value:function(){var e=(0,l.Z)((0,u.Z)().mark((function e(){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Z.get("/api/v1/room/all-rooms");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getAllRoomsByUserID",value:function(){var e=(0,l.Z)((0,u.Z)().mark((function e(n){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Z.get("/api/v1/room/all-rooms/user/".concat(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},{key:"getRoomByID",value:function(){var e=(0,l.Z)((0,u.Z)().mark((function e(n){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Z.get("/api/v1/room/".concat(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}]),e}(),h=new p,x=r(226),v=function(){var e=(0,l.Z)((0,u.Z)().mark((function e(n,r){var t;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n((0,x.P4)()),e.prev=1,e.next=4,h.getAllRoomsByUserID(r);case 4:return t=e.sent,n((0,x.aQ)(t.data)),e.abrupt("return",t.data);case 9:e.prev=9,e.t0=e.catch(1),n((0,x.$z)());case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(n,r){return e.apply(this,arguments)}}(),j=function(){var e=(0,l.Z)((0,u.Z)().mark((function e(n,r){var t;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n((0,x.P4)()),e.prev=1,e.next=4,h.getRoomByID(r);case 4:return t=e.sent,n((0,x.aQ)(t.data)),e.abrupt("return",t.data);case 9:e.prev=9,e.t0=e.catch(1),n((0,x.$z)());case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(n,r){return e.apply(this,arguments)}}(),g=r(5653),Z=r(7496),y=function(){var e=(0,l.Z)((0,u.Z)().mark((function e(n,r){var t;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n((0,Z.Rm)(r)),e.prev=1,e.next=4,g.Z.getUser(r);case 4:return t=e.sent,n((0,Z.Ni)(t.data)),e.abrupt("return",t.data);case 9:e.prev=9,e.t0=e.catch(1),n((0,Z.N2)());case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(n,r){return e.apply(this,arguments)}}(),N=r(3329),b=function(e){var n=e.conversation,r=e.currentUser,t=e.avatarUser,s=e.onlineUsers,o=e.filterMessages,u=(0,c.useState)(null),l=(0,a.Z)(u,2),d=l[0],f=l[1],m=(0,c.useState)([]),p=(0,a.Z)(m,2),h=p[0],x=p[1],v=(0,c.useState)(!1),j=(0,a.Z)(v,2),g=j[0],Z=j[1],b=(0,i.I0)(),w=n.participants.find((function(e){return e!==r}));(0,c.useEffect)((function(){var e=!1;return y(b,r).then((function(n){e||x(n.user.friends)})),function(){e=!0}}),[r]),(0,c.useEffect)((function(){var e=!1;return y(b,w).then((function(n){e||f(n.user)})),function(){e=!0}}),[r,n,b]),(0,c.useEffect)((function(){var e=!1;return e||h.forEach((function(e){null!==s&&void 0!==s&&s.includes(e)&&e===d._id&&Z(!0)})),function(){e=!0}}),[h,s,g]);return(0,N.jsx)("div",{className:"d-flex align-items-center message-item pt-3",style:{borderRadius:"1rem"},children:o&&!d.username.toLowerCase().includes(o)?null:(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("span",{className:g&&d?"avatar-user online-status":"avatar-user",children:(0,N.jsx)("img",{loading:"lazy",role:"presentation",decoding:"async",src:t,alt:"Avatar user",className:"rounded-circle"})}),(0,N.jsx)("div",{className:"message-body ms-3",children:(0,N.jsx)("div",{className:"fs-4 fw-bold",children:d&&d.username})})]})})},w=r(6505),k=function(e){var n=e.onlineUsers,r=e.currentUser,t=(0,c.useState)([]),s=(0,a.Z)(t,2),o=s[0],u=s[1],l=(0,c.useState)([]),d=(0,a.Z)(l,2),f=(d[0],d[1]),m=(0,i.I0)();return(0,c.useEffect)((function(){y(m,r).then((function(e){u(e.user.friends)}))}),[r]),(0,c.useEffect)((function(){f(o.filter((function(e){return n.includes(e)})))}),[o,n]),(0,N.jsx)("div",{})},_=function(e){var n=e.avatarUser,r=(0,c.useState)([]),t=(0,a.Z)(r,2),s=t[0],u=t[1],l=(0,c.useState)(null),d=(0,a.Z)(l,2),f=d[0],m=d[1],p=(0,c.useState)(null),h=(0,a.Z)(p,2),x=h[0],g=h[1],Z=(0,c.useState)([]),_=(0,a.Z)(Z,2),U=_[0],S=_[1],I=(0,c.useState)(""),G=(0,a.Z)(I,2),E=G[0],T=G[1],C=(0,i.I0)(),R=(0,i.v9)((function(e){var n;return null===(n=e.auth.login.currentUser)||void 0===n?void 0:n.data}));(0,c.useEffect)((function(){var e=!1;return v(C,R._id).then((function(n){e||u(n.rooms)})).catch((function(e){console.error("Failed to get rooms",e)})),function(){e=!0}}),[C,R._id]),(0,c.useEffect)((function(){f&&j(C,f)}),[f,C]),(0,c.useEffect)((function(){x&&y(C,x)}),[x,C]);var A=(0,c.useRef)(null),F={getUsersOnline:(0,c.useCallback)((function(e){var n=Object.values(e);y(C,R._id).then((function(e){var r=e.user.friends.filter((function(e){return n.some((function(n){return n.userID===e}))}));S(r)}))}),[])};return(0,c.useEffect)((function(){A.current=(0,o.ZP)(w.o);var e=A.current;return e.emit("add-user",{user:R._id}),e.on("get-users",F.getUsersOnline),function(){e.off("get-users",F.getUsersOnline)}}),[F.getUsersOnline,R._id]),(0,N.jsx)(N.Fragment,{children:(0,N.jsx)("div",{className:"left-msg-page",children:(0,N.jsx)("div",{className:"left-container",children:(0,N.jsxs)("div",{className:"left-container-main",children:[(0,N.jsx)("input",{type:"text",placeholder:"Searching someone?",className:"fs-3 rounded border-0 mb-4",onChange:function(e){T(e.target.value)}}),(0,N.jsxs)("div",{className:"d-flex mb-4",children:[(0,N.jsx)("div",{className:"border px-4 py-2 fs-4 rounded-3",children:"Box"}),(0,N.jsx)("div",{className:"border px-4 py-2 fs-4 rounded-3 ms-3",children:"Communites"})]}),(0,N.jsxs)("div",{className:"messages-wrapper scrollbar",children:[s.map((function(e){return(0,N.jsx)("div",{onClick:function(){m(e._id),g(e.participants.filter((function(e){return e!==R._id})))},className:"messages-wrapper__room-list",children:(0,N.jsx)(b,{onlineUsers:U,conversation:e,currentUser:R._id,avatarUser:n,filterMessages:E})},e._id)})),(0,N.jsx)(k,{onlineUsers:U,currentUser:R._id})]})]})})})})},U=r(2982),S=r(1363),I=r(1632),G=r(3749),E=function(){function e(){(0,d.Z)(this,e)}return(0,f.Z)(e,[{key:"getAllMessagesByRoomID",value:function(){var e=(0,l.Z)((0,u.Z)().mark((function e(n){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Z.get("/api/v1/message/all-messages/room/".concat(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},{key:"sendMessage",value:function(){var e=(0,l.Z)((0,u.Z)().mark((function e(n){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Z.post("/api/v1/message/send-message/".concat(n.sender),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},{key:"editMessage",value:function(){var e=(0,l.Z)((0,u.Z)().mark((function e(n,r){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}()},{key:"deleteMessage",value:function(){var e=(0,l.Z)((0,u.Z)().mark((function e(n){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Z.delete("/api/v1/message/delete-message/".concat(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},{key:"deleteAllNessages",value:function(){var e=(0,l.Z)((0,u.Z)().mark((function e(n){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Z.delete("api/v1/message/delete-all/user/".concat(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}]),e}(),T=new E,C=r(2425),R=function(){var e=(0,l.Z)((0,u.Z)().mark((function e(n,r){var t;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r((0,C.ai)()),e.prev=1,e.next=4,T.sendMessage(n);case 4:t=e.sent,r((0,C.E$)(t.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r((0,C.Ju)());case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n,r){return e.apply(this,arguments)}}(),A=function(){var e=(0,l.Z)((0,u.Z)().mark((function e(n,r){var t;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r((0,C.LR)()),e.prev=1,e.next=4,T.getAllMessagesByRoomID(n);case 4:return t=e.sent,r((0,C.Pn)(t.data)),e.abrupt("return",t.data);case 9:e.prev=9,e.t0=e.catch(1),r((0,C.AT)());case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(n,r){return e.apply(this,arguments)}}(),F=function(){var e=(0,l.Z)((0,u.Z)().mark((function e(n,r){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r((0,C.s3)()),e.prev=1,e.next=4,T.deleteMessage(n);case 4:r((0,C.Ah)()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),r((0,C.Qs)());case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(n,r){return e.apply(this,arguments)}}(),M=r(2426),D=r.n(M),B=function(e){if(!e)return e;var n=D()();return D()(e).fromNow(n)+" ago"},L=function(){var e=(0,c.useState)(""),n=(0,a.Z)(e,2),r=n[0],t=n[1],s=(0,c.useState)(!1),d=(0,a.Z)(s,2),f=d[0],m=d[1],p=(0,c.useState)(""),h=(0,a.Z)(p,2),x=h[0],v=h[1],j=(0,c.useState)([]),g=(0,a.Z)(j,2),Z=g[0],y=g[1],b=(0,c.useState)(null),k=(0,a.Z)(b,2),_=k[0],E=k[1],T=(0,c.useState)(null),C=(0,a.Z)(T,2),M=C[0],D=C[1],L=(0,i.I0)(),P=B,H=(0,c.useRef)(null),z=(0,c.useRef)(),O=new Date,V="".concat(O.getHours(),":").concat(O.getMinutes()),Q=(0,i.v9)((function(e){var n;return null===(n=e.auth.login.currentUser)||void 0===n?void 0:n.data})),W=(0,i.v9)((function(e){var n;return null===(n=e.user.user.currentUser)||void 0===n?void 0:n.user}));(0,c.useEffect)((function(){var e=!1;if(W&&!e&&W._id){var n=W.username;D(n)}return function(){e=!0}}),[_]);var $={serverResponse:(0,c.useCallback)((function(e){console.log(e)}),[]),receivedMessage:(0,c.useCallback)((function(e){e.roomId===_&&y((function(n){return[].concat((0,U.Z)(n),[e])}))}),[_,Z]),disconnect:(0,c.useCallback)((function(){console.log("Server disconnected :<")}),[])};(0,c.useEffect)((function(){H.current=(0,o.ZP)(w.o);var e=H.current;return e.emit("client",{msg:"Hello from client \ud83d\ude00"}),e.on("server",$.serverResponse),e.on("receive-message",$.receivedMessage),e.on("disconnect",$.disconnect),function(){e.off("server",$.serverResponse),e.off("receive-message",$.receivedMessage),e.off("disconnect",$.disconnect)}}),[$.serverResponse,$.receivedMessage,$.disconnect]);var Y=(0,i.v9)((function(e){var n;return null===(n=e.room.room)||void 0===n?void 0:n.currentRoom}));(0,c.useEffect)((function(){var e=!1;if(Y&&!e){var n=Y.data;if(n&&n._id){var r=n._id;E(r)}}return function(){e=!0}}),[Y]);var q={changeInputMsg:function(e){t(e.target.value)},submit:function(e){if(e.preventDefault(),_){var n={sender:Q._id,message:r,time:V,roomId:_};R(n,L).then((0,l.Z)((0,u.Z)().mark((function e(){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=4;break}return e.next=3,H.current.emit("send-message",n);case 3:t("");case 4:case"end":return e.stop()}}),e)})))).catch((function(e){alert("Failed to send message"),console.error("Failed to send message",e)}))}},deleteMsg:function(){var e=(0,l.Z)((0,u.Z)().mark((function e(){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(x,L);case 2:y((function(e){return e.filter((function(e){return e._id!==x}))})),m(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()};(0,c.useEffect)((function(){var e=!1;return _&&A(_,L).then((function(n){e||Object.keys(n).forEach((function(e){if("messages"===e){var r=n[e];y(r)}}))})).catch((function(e){console.error("Failed to get messages",e)})),function(){e=!0}}),[_,L]);var J=function(){m((function(e){return!e}))};(0,c.useEffect)((function(){var e;null===(e=z.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"end"})}),[Z]);return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("div",{className:"middle-msg-page relative",children:[_?(0,N.jsxs)("div",{className:"middle-container",children:[(0,N.jsxs)("div",{className:"middle-container-header d-flex align-items-center justify-content-between py-3 px-4 pb-3",children:[(0,N.jsxs)("div",{className:"d-flex align-items-center",children:[(0,N.jsx)("img",{loading:"lazy",role:"presentation",decoding:"async",src:G,alt:"Avatar user",className:"rounded-circle middle-avatar-chat"}),(0,N.jsx)("span",{className:"ms-2 fs-4 fw-bold",children:M})]}),(0,N.jsxs)("div",{className:"d-flex fs-4",children:[(0,N.jsx)("span",{"aria-label":"G\u1ecdi \u0111i\u1ec7n",role:"button",className:"icon d-flex justify-content-center align-items-center rounded-circle",children:(0,N.jsx)(S.G,{icon:I.j1w})}),(0,N.jsx)("span",{"aria-label":"G\u1ecdi video",role:"button",className:"icon d-flex justify-content-center align-items-center rounded-circle mx-4",children:(0,N.jsx)(S.G,{icon:I.IyC})}),(0,N.jsx)("span",{"aria-label":"Xem th\xeam th\xf4ng tin",role:"button",className:"icon d-flex justify-content-center align-items-center rounded-circle",children:(0,N.jsx)(S.G,{icon:I.DBf})})]})]}),(0,N.jsxs)("div",{className:"middle-container-body scrollbar px-4 py-5 fs-3",children:[Z.map((function(e,n){return e.sender===Q._id?(0,N.jsxs)("div",{className:"middle-container-body__right-text mb-2 fs-4 animate__animated animate__slideInRight d-flex align-items-end flex-column",children:[(0,N.jsxs)("div",{className:"d-flex align-items-center justify-content-end w-100",children:[(0,N.jsx)("span",{className:"dot-icon",onClick:function(){v(e._id),J()},style:{cursor:"pointer",width:"2.3rem",height:"2.3rem",borderRadius:"50%"},"aria-label":"Xem th\xeam",children:(0,N.jsx)(S.G,{icon:I.Uwo})}),(0,N.jsx)("span",{className:"middle-container-body__right-message-content ms-3",children:e.message})]}),(0,N.jsx)("div",{className:"middle-container-body__right-time",children:P(e.createdAt)||"now"})]},n):(0,N.jsxs)("div",{className:"middle-container-body__left-text mb-2 fs-4 animate__animated animate__slideInLeft d-flex flex-column",children:[(0,N.jsx)("div",{className:"d-flex justify-content-start align-items-center w-100",children:(0,N.jsx)("span",{className:"middle-container-body__left-message-content me-2",children:e.message})}),(0,N.jsx)("div",{className:"middle-container-body__left-time",children:P(e.createdAt)||"now"})]},n)})),(0,N.jsx)("div",{ref:z})]}),(0,N.jsxs)("form",{onSubmit:function(e){q.submit(e)},className:"middle-container-footer p-4 d-flex justify-content-between align-items-center",children:[(0,N.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,N.jsx)("span",{className:"icon fs-3","aria-label":"M\u1edf h\xe0nh \u0111\u1ed9ng kh\xe1c",role:"button",children:(0,N.jsx)(S.G,{icon:I.r8p})}),(0,N.jsx)("span",{className:"icon fs-3 mx-3","aria-label":"\u0110\xednh k\xe8m file",role:"button",children:(0,N.jsx)(S.G,{icon:I.VmB})}),(0,N.jsx)("span",{className:"icon fs-3","aria-label":"Ch\u1ecdn emoji",role:"button",children:(0,N.jsx)(S.G,{icon:I.Flz})})]}),(0,N.jsx)("div",{className:"user-input-chat",children:(0,N.jsx)("input",{type:"text",className:"rounded py-2 px-3 fs-4",placeholder:"Text your message here...",maxLength:"3500",style:{border:"1px solid var(--color-primary)"},value:r,onChange:function(e){return q.changeInputMsg(e)},autoFocus:!0})}),(0,N.jsx)("span",{className:"icon fs-3 d-flex justify-content-end align-items-center",style:{width:"fit-content",borderRadius:"0.5rem",padding:"0.8rem"},"aria-label":"Th\u1ea3 c\u1ea3m x\xfac",children:(0,N.jsx)(S.G,{icon:I.u8Q})})]})]}):(0,N.jsx)("div",{className:"h-100 d-flex justify-content-center align-items-center fs-1 text-center",style:{fontWeight:"bold"},children:"H\xe3y ch\u1ecdn m\u1ed9t \u0111o\u1ea1n chat ho\u1eb7c b\u1eaft \u0111\u1ea7u cu\u1ed9c tr\xf2 chuy\u1ec7n m\u1edbi"})," ",f&&(0,N.jsx)("div",{className:"confirm-container d-flex justify-content-center align-items-center",onClick:function(){return m(!1)},children:(0,N.jsxs)("div",{id:"confirm",className:"confirm-container__dialog p-4",onClick:function(e){return e.stopPropagation()},children:[(0,N.jsx)("span",{className:"confirm-container__dialog-title d-block fs-3 text-white mb-4",children:"B\u1ea1n mu\u1ed1n x\xf3a tin nh\u1eafn n\xe0y?"}),(0,N.jsxs)("div",{className:"confirm-container__dialog-footer fs-5 d-flex justify-content-end",children:[(0,N.jsx)("span",{onClick:function(){return J()},className:"confirm-container__dialog-close",children:"Close"}),(0,N.jsx)("span",{onClick:function(){return q.deleteMsg()},className:"confirm-container__dialog-confirm",children:"Delete"})]})]})})]})})},P=r(6850),H=function(){var e=(0,c.useState)(""),n=(0,a.Z)(e,2),r=n[0],t=n[1],s=(0,c.useState)(!1),o=(0,a.Z)(s,2),u=o[0],l=o[1],d=(0,c.useState)(null),f=(0,a.Z)(d,2),m=f[0],p=f[1],h=(0,c.useState)(null),x=(0,a.Z)(h,2),v=x[0],j=x[1],g=(0,i.v9)((function(e){var n;return null===(n=e.room.room)||void 0===n?void 0:n.currentRoom}));(0,c.useEffect)((function(){var e=!1;if(g&&!e){var n=g.data;if(n&&n._id){var r=n._id;p(r)}}return function(){e=!0}}),[g]);var Z=(0,i.v9)((function(e){var n;return null===(n=e.user.user.currentUser)||void 0===n?void 0:n.user}));(0,c.useEffect)((function(){var e=!1;if(Z&&!e&&Z._id){var n=Z.username;j(n)}return function(){e=!0}}),[m]);var y=function(e){t(e),l((function(e){return!e}))};return m&&(0,N.jsx)("div",{className:"right-msg-page p-4",children:(0,N.jsxs)("div",{className:"right-container scrollbar d-flex flex-column align-items-center",children:[(0,N.jsxs)("div",{className:"right-container-header d-flex flex-column align-items-center mb-4",children:[(0,N.jsx)("img",{loading:"lazy",role:"presentation",decoding:"async",src:G,alt:"Avatar user",className:"rounded-circle right-avatar-chat"}),(0,N.jsx)("p",{className:"mt-2 mb-0 fs-4 fw-bold",children:v}),(0,N.jsx)("span",{className:"opacity-75",children:"Online 3mins ago"})]}),(0,N.jsxs)("div",{className:"right-container-body d-flex justify-content-between fs-5",children:[(0,N.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[(0,N.jsx)("span",{className:"p-3 rounded-circle text-center mb-2 icon",style:{width:"4rem",height:"4rem"},children:(0,N.jsx)(S.G,{icon:P.ILF})}),(0,N.jsx)("span",{children:"Profile"})]}),(0,N.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[(0,N.jsx)("span",{className:"p-3 rounded-circle text-center mb-2 icon",style:{width:"4rem",height:"4rem"},children:(0,N.jsx)(S.G,{icon:P.n8J})}),(0,N.jsx)("span",{children:"Turn off notification"})]}),(0,N.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[(0,N.jsx)("span",{className:"p-3 rounded-circle text-center mb-2 icon",style:{width:"4rem",height:"4rem"},children:(0,N.jsx)(S.G,{icon:I.Y$T})}),(0,N.jsx)("span",{children:"Search"})]})]}),(0,N.jsxs)("div",{className:"right-container-footer mt-4 d-flex flex-column justify-content-center ps-0",children:[(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:"d-flex justify-content-between fs-4 mb-0 p-3 drop-menu",onClick:function(){y("SETTING-CHAT")},children:[(0,N.jsx)("p",{className:"mb-0",children:"Setting this chat"}),(0,N.jsx)("span",{children:(0,N.jsx)(S.G,{icon:I.eW2,style:{transform:"".concat("SETTING-CHAT"===r&&u?"rotate(180deg)":"rotate(0deg)")}})})]}),u&&"SETTING-CHAT"===r&&(0,N.jsxs)("ul",{className:"ps-0 fs-4 ms-4",children:[(0,N.jsx)("li",{className:"drop-menu-item p-3",children:(0,N.jsxs)("div",{children:[(0,N.jsx)("span",{className:"icon",children:"\ud83d\ude03"}),(0,N.jsx)("span",{children:"Change emotion"})]})}),(0,N.jsx)("li",{className:"drop-menu-item p-3",children:(0,N.jsxs)("div",{children:[(0,N.jsx)("span",{className:"icon",children:(0,N.jsx)(S.G,{icon:I.yGG})}),(0,N.jsx)("span",{children:"Change nickname"})]})}),(0,N.jsx)("li",{className:"drop-menu-item p-3",children:(0,N.jsxs)("div",{children:[(0,N.jsx)("span",{className:"icon",children:(0,N.jsx)(S.G,{icon:I.Y$T})}),(0,N.jsx)("span",{children:"Search in chat"})]})})]})]}),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:"d-flex justify-content-between fs-4 mb-0 p-3 drop-menu",onClick:function(){y("SETTING-FILE")},children:[(0,N.jsx)("p",{className:"mb-0",children:"Videos, files and links"}),(0,N.jsx)("span",{children:(0,N.jsx)(S.G,{icon:I.eW2,style:{transform:"".concat("SETTING-FILE"===r&&u?"rotate(180deg)":"rotate(0deg)")}})})]}),u&&"SETTING-FILE"===r&&(0,N.jsxs)("ul",{className:"ps-0 fs-4 ms-3",children:[(0,N.jsx)("li",{className:"drop-menu-item p-3",children:(0,N.jsxs)("div",{children:[(0,N.jsx)("span",{className:"icon",children:(0,N.jsx)(S.G,{icon:I.nTQ})}),(0,N.jsx)("span",{children:"Media"})]})}),(0,N.jsx)("li",{className:"drop-menu-item p-3",children:(0,N.jsxs)("div",{children:[(0,N.jsx)("span",{className:"icon",children:(0,N.jsx)(S.G,{icon:I.gMD})}),(0,N.jsx)("span",{children:"File"})]})}),(0,N.jsx)("li",{className:"drop-menu-item p-3",children:(0,N.jsxs)("div",{children:[(0,N.jsx)("span",{className:"icon",children:(0,N.jsx)(S.G,{icon:I.nNP})}),(0,N.jsx)("span",{children:"Links"})]})})]})]}),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:"d-flex justify-content-between fs-4 mb-0 p-3 drop-menu",onClick:function(){y("SETTING-PRIVATE")},children:[(0,N.jsx)("p",{className:"mb-0",children:"Private and support"}),(0,N.jsx)("span",{children:(0,N.jsx)(S.G,{icon:I.eW2,style:{transform:"".concat("SETTING-PRIVATE"===r&&u?"rotate(180deg)":"rotate(0deg)")}})})]}),u&&"SETTING-PRIVATE"===r&&(0,N.jsxs)("ul",{className:"ps-0 fs-4 ms-3",children:[(0,N.jsx)("li",{className:"drop-menu-item p-3",children:(0,N.jsxs)("div",{children:[(0,N.jsx)("span",{className:"icon",children:(0,N.jsx)(S.G,{icon:P.qmU})}),(0,N.jsx)("span",{children:"Turn off notification"})]})}),(0,N.jsx)("li",{className:"drop-menu-item p-3",children:(0,N.jsxs)("div",{children:[(0,N.jsx)("span",{className:"icon",children:(0,N.jsx)(S.G,{icon:I.tWt})}),(0,N.jsx)("span",{children:"Delete chat"})]})}),(0,N.jsx)("li",{className:"drop-menu-item p-3",children:(0,N.jsxs)("div",{children:[(0,N.jsx)("span",{className:"icon",children:(0,N.jsx)(S.G,{icon:I.QWY})}),(0,N.jsx)("span",{children:"Block user"})]})}),(0,N.jsx)("li",{className:"drop-menu-item p-3",children:(0,N.jsxs)("div",{children:[(0,N.jsx)("span",{className:"icon",children:(0,N.jsx)(S.G,{icon:I.ik8})}),(0,N.jsx)("span",{children:"Report"})]})})]})]})]})]})})};var z=function(){return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(s.default,{title:"Login",link:"/register"}),(0,N.jsxs)("div",{className:"messages",children:[(0,N.jsx)(_,{avatarUser:t}),(0,N.jsx)(L,{}),(0,N.jsx)(H,{})]})]})}},51:function(e,n,r){r.d(n,{a$:function(){return o},kS:function(){return u},pH:function(){return i}});var t=r(4165),s=r(5861),a=r(5653),c=r(9176),i=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(n,r,s){var i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r((0,c.h8)()),e.prev=1,e.next=4,a.Z.loginUser(n);case 4:i=e.sent,r((0,c.he)(i.data)),s("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),r((0,c.bH)());case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(n,r,t){return e.apply(this,arguments)}}(),o=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(n,r,s){var i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r((0,c.pq)()),e.prev=1,e.next=4,a.Z.createUser(n);case 4:i=e.sent,r((0,c.pV)(i.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r((0,c.ST)());case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n,r,t){return e.apply(this,arguments)}}(),u=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(n,r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n((0,c.nb)());try{n((0,c.ls)()),r("/")}catch(t){n((0,c.Am)())}case 2:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}()},7391:function(e,n,r){var t=r(1413),s=r(2388),a=r(6505),c=s.Z.create((0,t.Z)({baseURL:a._},{headers:{"Content-Type":"application/json",Accept:"application/json"}}));n.Z=c},5653:function(e,n,r){var t=r(4165),s=r(5861),a=r(5671),c=r(3144),i=r(7391),o=function(){function e(){(0,a.Z)(this,e)}return(0,c.Z)(e,[{key:"getAllUsers",value:function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("/api/v1/all-users").data;case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"loginUser",value:function(){var e=(0,s.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.post("/api/v1/user/login",n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},{key:"createUser",value:function(){var e=(0,s.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.post("/api/v1/user/register",n).data;case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},{key:"getUser",value:function(){var e=(0,s.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("/api/v1/user/".concat(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},{key:"updateUser",value:function(){var e=(0,s.Z)((0,t.Z)().mark((function e(n,r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.put("/api/v1/user/".concat(n),r).data;case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}()},{key:"deleteAllUsers",value:function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.delete("/api/v1/user/delete-all").data;case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteUserById",value:function(){var e=(0,s.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.get("/api/v1/user/delete/".concat(n)).data;case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}]),e}();n.Z=new o},7573:function(e,n,r){e.exports=r.p+"static/media/kayo.1b90deee259668455c45.jpg"},3749:function(e,n,r){e.exports=r.p+"static/media/profile-pic.144951d4f7c17f7858c3.png"}}]);
//# sourceMappingURL=229.2be186e4.chunk.js.map