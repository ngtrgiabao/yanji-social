{"version":3,"file":"static/js/229.2be186e4.chunk.js","mappings":"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","sources":["constants/backend.url.constant.js","layout/navigation/Navigation.jsx","services/room.service.js","redux/request/roomRequest.js","redux/request/userRequest.js","components/Conversation.jsx","components/ChatOnline.jsx","pages/messages/sidebar/left/Left.jsx","services/message.service.js","redux/request/messageRequest.js","hooks/useTimeAgo.jsx","pages/messages/sidebar/middle/Middle.jsx","pages/messages/sidebar/right/Right.jsx","pages/messages/Messages.jsx","redux/request/authRequest.js","services/api.service.js","services/user.service.js"],"sourcesContent":["// const BASE_URL = \"http://localhost:8000\";\r\nconst BASE_URL = \"https://yanji-social.onrender.com\";\r\n\r\n// const SOCKET_URL = \"http://localhost:9000\";\r\nconst SOCKET_URL = \"https://yanji-social.onrender.com\";\r\n\r\nexport { BASE_URL, SOCKET_URL };\r\n","import { Link, useNavigate } from \"react-router-dom\";\r\nimport { UilSearch } from \"@iconscout/react-unicons\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport \"../../style/layouts/navigation.css\";\r\n\r\nimport ProfilePic from \"../../assets/avatar/profile-pic.png\";\r\n\r\nimport { logout } from \"../../redux/request/authRequest\";\r\n\r\nconst Navigation = (props) => {\r\n    const { title, link } = props;\r\n\r\n    const user = useSelector((state) => {\r\n        return state.auth.login.currentUser?.data;\r\n    });\r\n\r\n    const userID = useSelector((state) => {\r\n        return state.auth.login.currentUser?.data._id;\r\n    });\r\n\r\n    const dispatch = useDispatch();\r\n    const navigate = useNavigate();\r\n\r\n    const handleLogout = () => {\r\n        logout(dispatch, navigate);\r\n    };\r\n\r\n    const renderSwitchBtn = () => {\r\n        return user ? (\r\n            <Link\r\n                to=\"/logout\"\r\n                className=\"btn btn-danger d-flex align-items-center justify-content-center gap-4\"\r\n                htmlFor=\"#logout\"\r\n                onClick={handleLogout}\r\n            >\r\n                Logout\r\n            </Link>\r\n        ) : (\r\n            <Link\r\n                to={link}\r\n                className=\"nav__btn d-flex align-items-center justify-content-center gap-4\"\r\n                htmlFor=\"#create-post\"\r\n            >\r\n                {title}\r\n            </Link>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <nav className=\"py-3 header-navbar\">\r\n                <div\r\n                    className=\"container d-flex align-items-center\"\r\n                    style={{ height: \"100%\" }}\r\n                >\r\n                    <Link to=\"/\" className=\"logo mb-0\">\r\n                        Yanji Social\r\n                    </Link>\r\n\r\n                    <div className=\"search-bar d-flex align-items-center\">\r\n                        <UilSearch />\r\n                        <Form.Control\r\n                            className=\"ms-4\"\r\n                            type=\"search\"\r\n                            placeholder=\"Search for creators, ideas and projects\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div\r\n                        className=\"d-flex justify-content-end align-items-center\"\r\n                        style={{\r\n                            width: \"12%\",\r\n                        }}\r\n                    >\r\n                        {renderSwitchBtn()}\r\n                        <Link\r\n                            aria-label=\"Avatar user\"\r\n                            to={user ? `/user/${userID}` : \"/\"}\r\n                            className=\"profile-pic ms-4\"\r\n                        >\r\n                            <img\r\n                                loading=\"lazy\"\r\n                                role=\"presentation\"\r\n                                decoding=\"async\"\r\n                                src={ProfilePic}\r\n                                alt=\"Avatar user\"\r\n                            />\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Navigation;\r\n","import api from \"./api.service\";\r\n\r\nclass RoomService {\r\n    async getAllRooms() {\r\n        return await api.get(`/api/v1/room/all-rooms`);\r\n    }\r\n\r\n    async getAllRoomsByUserID(userID) {\r\n        return await api.get(`/api/v1/room/all-rooms/user/${userID}`);\r\n    }\r\n\r\n    async getRoomByID(roomID) {\r\n        return await api.get(`/api/v1/room/${roomID}`);\r\n    }\r\n}\r\n\r\nexport default new RoomService();\r\n","import roomService from \"../../services/room.service\";\r\nimport { getRoomStart, getRoomSuccess, getRoomFailed } from \"../roomSlice\";\r\n\r\nexport const getAllRooms = async (dispatch) => {\r\n    dispatch(getRoomStart());\r\n    try {\r\n        const res = await roomService.getAllRooms();\r\n        dispatch(getRoomSuccess(res.data));\r\n        return res.data;\r\n    } catch (error) {\r\n        dispatch(getRoomFailed());\r\n    }\r\n};\r\n\r\nexport const getRoomsByUserID = async (dispatch, userID) => {\r\n    dispatch(getRoomStart());\r\n    try {\r\n        const res = await roomService.getAllRoomsByUserID(userID);\r\n        dispatch(getRoomSuccess(res.data));\r\n        return res.data;\r\n    } catch (error) {\r\n        dispatch(getRoomFailed());\r\n    }\r\n};\r\n\r\nexport const getCurrentRoom = async (dispatch, roomID) => {\r\n    dispatch(getRoomStart());\r\n\r\n    try {\r\n        const res = await roomService.getRoomByID(roomID);\r\n        dispatch(getRoomSuccess(res.data));\r\n        return res.data;\r\n    } catch (error) {\r\n        dispatch(getRoomFailed());\r\n    }\r\n};\r\n","import userService from \"../../services/user.service\";\r\n\r\nimport { getUserStart, getUserSuccess, getUserFailed } from \"../userSlice\";\r\n\r\nexport const getUserByID = async (dispatch, userID) => {\r\n    dispatch(getUserStart(userID));\r\n\r\n    try {\r\n        const res = await userService.getUser(userID);\r\n        dispatch(getUserSuccess(res.data));\r\n        return res.data;\r\n    } catch (error) {\r\n        dispatch(getUserFailed());\r\n    }\r\n};\r\n","import { useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\n// import { getUserByID } from \"../redux/request/authRequest\";\r\nimport { getUserByID } from \"../redux/request/userRequest\";\r\n\r\nconst Conversation = (props) => {\r\n    const {\r\n        conversation,\r\n        currentUser,\r\n        avatarUser,\r\n        onlineUsers,\r\n        filterMessages,\r\n    } = props;\r\n\r\n    const [user, setUser] = useState(null);\r\n    const [friends, setFriends] = useState([]);\r\n    const [isOnline, setIsOnline] = useState(false);\r\n    const dispatch = useDispatch();\r\n\r\n    const friendID = conversation.participants.find((p) => p !== currentUser);\r\n\r\n    useEffect(() => {\r\n        let isCancelled = false;\r\n\r\n        getUserByID(dispatch, currentUser).then((data) => {\r\n            if (!isCancelled) {\r\n                setFriends(data.user.friends);\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            isCancelled = true;\r\n        };\r\n    }, [currentUser]);\r\n\r\n    useEffect(() => {\r\n        let isCancelled = false;\r\n\r\n        getUserByID(dispatch, friendID).then((data) => {\r\n            if (!isCancelled) {\r\n                setUser(data.user);\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            isCancelled = true;\r\n        };\r\n    }, [currentUser, conversation, dispatch]);\r\n\r\n    useEffect(() => {\r\n        let isCancelled = false;\r\n\r\n        if (!isCancelled) {\r\n            friends.forEach((friend) => {\r\n                if (onlineUsers?.includes(friend) && friend === user._id) {\r\n                    setIsOnline(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        return () => {\r\n            isCancelled = true;\r\n        };\r\n    }, [friends, onlineUsers, isOnline]);\r\n\r\n    const avatarUserElement = () => {\r\n        return (\r\n            <span\r\n                className={\r\n                    isOnline && user\r\n                        ? \"avatar-user online-status\"\r\n                        : \"avatar-user\"\r\n                }\r\n            >\r\n                <img\r\n                    loading=\"lazy\"\r\n                    role=\"presentation\"\r\n                    decoding=\"async\"\r\n                    src={avatarUser}\r\n                    alt=\"Avatar user\"\r\n                    className=\"rounded-circle\"\r\n                />\r\n            </span>\r\n        );\r\n    };\r\n\r\n    const messageBodyElement = () => {\r\n        return (\r\n            <div className=\"message-body ms-3\">\r\n                <div className=\"fs-4 fw-bold\">{user && user.username}</div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const renderMessageBlock = () => {\r\n        return filterMessages &&\r\n            !user.username.toLowerCase().includes(filterMessages) ? null : (\r\n            <>\r\n                {avatarUserElement()}\r\n                {messageBodyElement()}\r\n            </>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div\r\n            className=\"d-flex align-items-center message-item pt-3\"\r\n            style={{ borderRadius: \"1rem\" }}\r\n        >\r\n            {renderMessageBlock()}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Conversation;\r\n","import { useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport { getUserByID } from \"../redux/request/userRequest\";\r\n\r\nconst ChatOnline = (props) => {\r\n    const { onlineUsers, currentUser } = props;\r\n\r\n    const [friends, setFriends] = useState([]);\r\n    const [onlineFriends, setOnlineFriends] = useState([]);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        getUserByID(dispatch, currentUser).then((data) => {\r\n            setFriends(data.user.friends);\r\n        });\r\n    }, [currentUser]);\r\n\r\n    useEffect(() => {\r\n        setOnlineFriends(friends.filter((f) => onlineUsers.includes(f)));\r\n    }, [friends, onlineUsers]);\r\n\r\n    return (\r\n        <div>\r\n            {/* {onlineFriends.map((o, index) => (\r\n                <div key={index}>hello {o}</div>\r\n            ))} */}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ChatOnline;\r\n","import { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport io from \"socket.io-client\";\r\n\r\nimport \"../../../../style/pages/messages/left/left.css\";\r\n\r\nimport {\r\n    getRoomsByUserID,\r\n    getCurrentRoom,\r\n} from \"../../../../redux/request/roomRequest\";\r\nimport Conversation from \"../../../../components/Conversation\";\r\nimport { getUserByID } from \"../../../../redux/request/userRequest\";\r\nimport { SOCKET_URL } from \"../../../../constants/backend.url.constant\";\r\nimport ChatOnline from \"../../../../components/ChatOnline\";\r\n\r\nconst Left = (props) => {\r\n    const { avatarUser } = props;\r\n\r\n    const [rooms, setRooms] = useState([]);\r\n    const [currentChat, setCurrentChat] = useState(null);\r\n    const [friendID, setFriendID] = useState(null);\r\n    const [onlineUsers, setOnlineUsers] = useState([]);\r\n    const [filterMessages, setFilterMessages] = useState(\"\");\r\n    const dispatch = useDispatch();\r\n\r\n    const sender = useSelector((state) => {\r\n        return state.auth.login.currentUser?.data;\r\n    });\r\n\r\n    useEffect(() => {\r\n        let isCancelled = false;\r\n        getRoomsByUserID(dispatch, sender._id)\r\n            .then((data) => {\r\n                if (!isCancelled) {\r\n                    setRooms(data.rooms); // Set rooms directly\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.error(\"Failed to get rooms\", error);\r\n            });\r\n\r\n        return () => {\r\n            isCancelled = true;\r\n        };\r\n    }, [dispatch, sender._id]);\r\n\r\n    useEffect(() => {\r\n        if (currentChat) {\r\n            getCurrentRoom(dispatch, currentChat);\r\n        }\r\n    }, [currentChat, dispatch]);\r\n\r\n    useEffect(() => {\r\n        if (friendID) {\r\n            getUserByID(dispatch, friendID);\r\n        }\r\n    }, [friendID, dispatch]);\r\n\r\n    const renderRooms = () => {\r\n        return rooms.map((r) => (\r\n            <div\r\n                key={r._id}\r\n                onClick={() => {\r\n                    setCurrentChat(r._id);\r\n                    setFriendID(\r\n                        r.participants.filter((user) => user !== sender._id)\r\n                    );\r\n                }}\r\n                className=\"messages-wrapper__room-list\"\r\n            >\r\n                <Conversation\r\n                    onlineUsers={onlineUsers}\r\n                    conversation={r}\r\n                    currentUser={sender._id}\r\n                    avatarUser={avatarUser}\r\n                    filterMessages={filterMessages}\r\n                />\r\n            </div>\r\n        ));\r\n    };\r\n\r\n    const handleFilterMessages = (e) => {\r\n        setFilterMessages(e.target.value);\r\n    };\r\n\r\n    const socketRef = useRef(null);\r\n\r\n    const handleSocket = {\r\n        getUsersOnline: useCallback((userList) => {\r\n            const users = Object.values(userList);\r\n\r\n            // Get friends of sender to compare user of socket to set online users\r\n            getUserByID(dispatch, sender._id).then((data) => {\r\n                const value = data.user.friends.filter((f) =>\r\n                    users.some((u) => u.userID === f)\r\n                );\r\n\r\n                setOnlineUsers(value);\r\n            });\r\n        }, []),\r\n    };\r\n\r\n    useEffect(() => {\r\n        socketRef.current = io(SOCKET_URL);\r\n        const socket = socketRef.current;\r\n\r\n        socket.emit(\"add-user\", {\r\n            user: sender._id,\r\n        });\r\n\r\n        socket.on(\"get-users\", handleSocket.getUsersOnline);\r\n\r\n        return () => {\r\n            socket.off(\"get-users\", handleSocket.getUsersOnline);\r\n        };\r\n    }, [handleSocket.getUsersOnline, sender._id]);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"left-msg-page\">\r\n                <div className=\"left-container\">\r\n                    <div className=\"left-container-main\">\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Searching someone?\"\r\n                            className=\"fs-3 rounded border-0 mb-4\"\r\n                            onChange={handleFilterMessages}\r\n                        />\r\n\r\n                        <div className=\"d-flex mb-4\">\r\n                            <div className=\"border px-4 py-2 fs-4 rounded-3\">\r\n                                Box\r\n                            </div>\r\n                            <div className=\"border px-4 py-2 fs-4 rounded-3 ms-3\">\r\n                                Communites\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"messages-wrapper scrollbar\">\r\n                            {renderRooms()}\r\n                            <ChatOnline\r\n                                onlineUsers={onlineUsers}\r\n                                currentUser={sender._id}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Left;\r\n","import api from \"./api.service\";\r\n\r\nclass MessageService {\r\n    async getAllMessagesByRoomID(roomID) {\r\n        return await api.get(`/api/v1/message/all-messages/room/${roomID}`);\r\n    }\r\n\r\n    async sendMessage(message) {\r\n        return await api.post(\r\n            `/api/v1/message/send-message/${message.sender}`,\r\n            message\r\n        );\r\n    }\r\n\r\n    async editMessage(id, data) {}\r\n\r\n    async deleteMessage(msgID) {\r\n        return await api.delete(`/api/v1/message/delete-message/${msgID}`);\r\n    }\r\n\r\n    async deleteAllNessages(userID) {\r\n        return await api.delete(`api/v1/message/delete-all/user/${userID}`);\r\n    }\r\n}\r\n\r\nexport default new MessageService();\r\n","import messageService from \"../../services/message.service\";\r\nimport {\r\n    sendMessageStart,\r\n    sendMessageSuccess,\r\n    sendMessageFailed,\r\n    editMessageStart,\r\n    editMessageSuccess,\r\n    editMessageFailed,\r\n    deleteMessageStart,\r\n    deleteMessageSuccess,\r\n    deleteMessageFailed,\r\n    getMessageStart,\r\n    getMessageSuccess,\r\n    getMessageFailed,\r\n} from \"../messageSlice\";\r\n\r\nexport const sendMessage = async (message, dispatch) => {\r\n    dispatch(sendMessageStart());\r\n    try {\r\n        const res = await messageService.sendMessage(message);\r\n        dispatch(sendMessageSuccess(res.data));\r\n    } catch (error) {\r\n        dispatch(sendMessageFailed());\r\n    }\r\n};\r\n\r\nexport const getMessagesByRoomID = async (roomID, dispatch) => {\r\n    dispatch(getMessageStart());\r\n    try {\r\n        const res = await messageService.getAllMessagesByRoomID(roomID);\r\n        dispatch(getMessageSuccess(res.data));\r\n        return res.data;\r\n    } catch (error) {\r\n        dispatch(getMessageFailed());\r\n    }\r\n};\r\n\r\nexport const deleteMessage = async (msgID, dispatch) => {\r\n    dispatch(deleteMessageStart());\r\n    try {\r\n        await messageService.deleteMessage(msgID);\r\n        dispatch(deleteMessageSuccess());\r\n    } catch (error) {\r\n        dispatch(deleteMessageFailed());\r\n    }\r\n};\r\n","import moment from \"moment\";\r\n\r\nexport const useTimeAgo = (timestamp) => {\r\n    // console.log(timestamp);\r\n    if (!timestamp) return timestamp;\r\n\r\n    const currentTime = moment();\r\n    const prevTime = moment(timestamp);\r\n\r\n    return prevTime.fromNow(currentTime) + \" ago\";\r\n};\r\n","import { useEffect, useRef, useState, useCallback } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport io from \"socket.io-client\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n    faVideo,\r\n    faPhone,\r\n    faCircleInfo,\r\n    faPlus,\r\n    faImage,\r\n    faFaceLaughBeam,\r\n    faThumbsUp,\r\n    faEllipsisVertical,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n// import MagicBell, {\r\n//     FloatingNotificationInbox,\r\n// } from \"@magicbell/magicbell-react\";\r\n// import EmojiPicker from \"emoji-picker-react\";\r\n\r\nimport \"../../../../style/pages/messages/middle/middle.css\";\r\n\r\nimport Photo from \"../../../../assets/avatar/profile-pic.png\";\r\n\r\nimport { SOCKET_URL } from \"../../../../constants/backend.url.constant\";\r\n\r\nimport {\r\n    sendMessage,\r\n    getMessagesByRoomID,\r\n    deleteMessage,\r\n} from \"../../../../redux/request/messageRequest\";\r\nimport { useTimeAgo } from \"../../../../hooks/useTimeAgo\";\r\n\r\nconst Middle = () => {\r\n    const [message, setMessage] = useState(\"\");\r\n    const [active, setActive] = useState(false);\r\n    const [messageID, setMessageID] = useState(\"\");\r\n    const [messageThread, setMessageThread] = useState([]);\r\n    const [currentConversation, setCurrentConversation] = useState(null);\r\n    const [titleConversation, setTitleConversation] = useState(null);\r\n    const dispatch = useDispatch();\r\n    const formatTime = useTimeAgo;\r\n\r\n    const socketRef = useRef(null);\r\n    const scrollRef = useRef();\r\n\r\n    const now = new Date();\r\n    const time = `${now.getHours()}:${now.getMinutes()}`;\r\n\r\n    const sender = useSelector((state) => {\r\n        return state.auth.login.currentUser?.data;\r\n    });\r\n\r\n    const friendName = useSelector((state) => {\r\n        return state.user.user.currentUser?.user;\r\n    });\r\n\r\n    useEffect(() => {\r\n        let isCancelled = false;\r\n\r\n        if (friendName && !isCancelled) {\r\n            // This conditional will filter one user in list of users\r\n            if (friendName._id) {\r\n                const value = friendName.username;\r\n\r\n                setTitleConversation(value);\r\n            }\r\n        }\r\n\r\n        return () => {\r\n            isCancelled = true;\r\n        };\r\n    }, [currentConversation]);\r\n\r\n    const handleSocket = {\r\n        serverResponse: useCallback((data) => {\r\n            console.log(data);\r\n        }, []),\r\n        receivedMessage: useCallback(\r\n            (data) => {\r\n                const { roomId } = data;\r\n                roomId === currentConversation &&\r\n                    setMessageThread((prevMessageThread) => [\r\n                        ...prevMessageThread,\r\n                        data,\r\n                    ]);\r\n            },\r\n            [currentConversation, messageThread]\r\n        ),\r\n\r\n        disconnect: useCallback(() => {\r\n            console.log(\"Server disconnected :<\");\r\n        }, []),\r\n    };\r\n\r\n    useEffect(() => {\r\n        socketRef.current = io(SOCKET_URL);\r\n        const socket = socketRef.current;\r\n\r\n        socket.emit(\"client\", {\r\n            msg: \"Hello from client 😀\",\r\n        });\r\n\r\n        socket.on(\"server\", handleSocket.serverResponse);\r\n        socket.on(\"receive-message\", handleSocket.receivedMessage);\r\n        socket.on(\"disconnect\", handleSocket.disconnect);\r\n\r\n        return () => {\r\n            socket.off(\"server\", handleSocket.serverResponse);\r\n            socket.off(\"receive-message\", handleSocket.receivedMessage);\r\n            socket.off(\"disconnect\", handleSocket.disconnect);\r\n        };\r\n    }, [\r\n        handleSocket.serverResponse,\r\n        handleSocket.receivedMessage,\r\n        handleSocket.disconnect,\r\n    ]);\r\n\r\n    const currentRoom = useSelector((state) => {\r\n        return state.room.room?.currentRoom;\r\n    });\r\n\r\n    // Loop each room\r\n    useEffect(() => {\r\n        let isCancelled = false;\r\n\r\n        if (currentRoom && !isCancelled) {\r\n            const roomData = currentRoom.data;\r\n\r\n            // This conditional will filter one room in list of rooms\r\n            if (roomData && roomData._id) {\r\n                const value = roomData._id;\r\n                setCurrentConversation(value);\r\n            }\r\n        }\r\n\r\n        return () => {\r\n            isCancelled = true;\r\n        };\r\n    }, [currentRoom]);\r\n\r\n    const handleMsg = {\r\n        changeInputMsg: (e) => {\r\n            setMessage(e.target.value);\r\n        },\r\n        submit: (e) => {\r\n            e.preventDefault();\r\n\r\n            if (currentConversation) {\r\n                const newMessage = {\r\n                    sender: sender._id,\r\n                    message: message,\r\n                    time: time,\r\n                    roomId: currentConversation,\r\n                };\r\n\r\n                sendMessage(newMessage, dispatch)\r\n                    .then(async () => {\r\n                        if (message) {\r\n                            await socketRef.current.emit(\r\n                                \"send-message\",\r\n                                newMessage\r\n                            );\r\n                            setMessage(\"\");\r\n                        }\r\n                    })\r\n                    .catch((error) => {\r\n                        alert(\"Failed to send message\");\r\n                        console.error(\"Failed to send message\", error);\r\n                    });\r\n            }\r\n        },\r\n        deleteMsg: async () => {\r\n            await deleteMessage(messageID, dispatch);\r\n            setMessageThread((prevMessageThread) =>\r\n                prevMessageThread.filter((message) => message._id !== messageID)\r\n            );\r\n            setActive(false);\r\n        },\r\n    };\r\n\r\n    useEffect(() => {\r\n        let isCancalled = false;\r\n\r\n        if (currentConversation) {\r\n            getMessagesByRoomID(currentConversation, dispatch)\r\n                .then((data) => {\r\n                    if (!isCancalled) {\r\n                        Object.keys(data).forEach((key) => {\r\n                            if (key === \"messages\") {\r\n                                const value = data[key];\r\n                                setMessageThread(value);\r\n                            }\r\n                        });\r\n                    }\r\n                })\r\n                .catch((error) => {\r\n                    console.error(\"Failed to get messages\", error);\r\n                });\r\n        }\r\n        return () => {\r\n            isCancalled = true;\r\n        };\r\n    }, [currentConversation, dispatch]);\r\n\r\n    const handlePopup = () => {\r\n        setActive((active) => !active);\r\n    };\r\n\r\n    // Auto scroll to bottom\r\n    useEffect(() => {\r\n        scrollRef.current?.scrollIntoView({\r\n            behavior: \"smooth\",\r\n            block: \"end\",\r\n        });\r\n    }, [messageThread]);\r\n\r\n    const renderConfirmPopup = () => {\r\n        return (\r\n            active && (\r\n                <div\r\n                    className=\"confirm-container d-flex justify-content-center align-items-center\"\r\n                    onClick={() => setActive(false)}\r\n                >\r\n                    <div\r\n                        id=\"confirm\"\r\n                        className=\"confirm-container__dialog p-4\"\r\n                        onClick={(e) => e.stopPropagation()}\r\n                    >\r\n                        <span className=\"confirm-container__dialog-title d-block fs-3 text-white mb-4\">\r\n                            Bạn muốn xóa tin nhắn này?\r\n                        </span>\r\n                        <div className=\"confirm-container__dialog-footer fs-5 d-flex justify-content-end\">\r\n                            <span\r\n                                onClick={() => handlePopup()}\r\n                                className=\"confirm-container__dialog-close\"\r\n                            >\r\n                                Close\r\n                            </span>\r\n                            <span\r\n                                onClick={() => handleMsg.deleteMsg()}\r\n                                className=\"confirm-container__dialog-confirm\"\r\n                            >\r\n                                Delete\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        );\r\n    };\r\n\r\n    const renderTitleConversation = () => {\r\n        return (\r\n            <div className=\"middle-container-header d-flex align-items-center justify-content-between py-3 px-4 pb-3\">\r\n                <div className=\"d-flex align-items-center\">\r\n                    <img\r\n                        loading=\"lazy\"\r\n                        role=\"presentation\"\r\n                        decoding=\"async\"\r\n                        src={Photo}\r\n                        alt=\"Avatar user\"\r\n                        className=\"rounded-circle middle-avatar-chat\"\r\n                    />\r\n                    <span className=\"ms-2 fs-4 fw-bold\">\r\n                        {titleConversation}\r\n                    </span>\r\n                </div>\r\n                <div className=\"d-flex fs-4\">\r\n                    <span\r\n                        aria-label=\"Gọi điện\"\r\n                        role=\"button\"\r\n                        className=\"icon d-flex justify-content-center align-items-center rounded-circle\"\r\n                    >\r\n                        <FontAwesomeIcon icon={faPhone} />\r\n                    </span>\r\n                    <span\r\n                        aria-label=\"Gọi video\"\r\n                        role=\"button\"\r\n                        className=\"icon d-flex justify-content-center align-items-center rounded-circle mx-4\"\r\n                    >\r\n                        <FontAwesomeIcon icon={faVideo} />\r\n                    </span>\r\n                    <span\r\n                        aria-label=\"Xem thêm thông tin\"\r\n                        role=\"button\"\r\n                        className=\"icon d-flex justify-content-center align-items-center rounded-circle\"\r\n                    >\r\n                        <FontAwesomeIcon icon={faCircleInfo} />\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const renderMessages = () => {\r\n        return messageThread.map((message, index) =>\r\n            message.sender === sender._id ? (\r\n                <div\r\n                    key={index}\r\n                    className=\"middle-container-body__right-text mb-2 fs-4 animate__animated animate__slideInRight d-flex align-items-end flex-column\"\r\n                >\r\n                    <div className=\"d-flex align-items-center justify-content-end w-100\">\r\n                        <span\r\n                            className=\"dot-icon\"\r\n                            onClick={() => {\r\n                                setMessageID(message._id);\r\n                                handlePopup();\r\n                            }}\r\n                            style={{\r\n                                cursor: \"pointer\",\r\n                                width: \"2.3rem\",\r\n                                height: \"2.3rem\",\r\n                                borderRadius: \"50%\",\r\n                            }}\r\n                            aria-label=\"Xem thêm\"\r\n                        >\r\n                            <FontAwesomeIcon icon={faEllipsisVertical} />\r\n                        </span>\r\n                        <span className=\"middle-container-body__right-message-content ms-3\">\r\n                            {message.message}\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"middle-container-body__right-time\">\r\n                        {formatTime(message.createdAt) || \"now\"}\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <div\r\n                    key={index}\r\n                    className=\"middle-container-body__left-text mb-2 fs-4 animate__animated animate__slideInLeft d-flex flex-column\"\r\n                >\r\n                    <div className=\"d-flex justify-content-start align-items-center w-100\">\r\n                        <span className=\"middle-container-body__left-message-content me-2\">\r\n                            {message.message}\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"middle-container-body__left-time\">\r\n                        {formatTime(message.createdAt) || \"now\"}\r\n                    </div>\r\n                </div>\r\n            )\r\n        );\r\n    };\r\n\r\n    const renderBodyConversation = () => {\r\n        return (\r\n            <div className=\"middle-container-body scrollbar px-4 py-5 fs-3\">\r\n                {renderMessages()}\r\n                <div ref={scrollRef} />\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const renderFooterConversation = () => {\r\n        return (\r\n            <form\r\n                onSubmit={(e) => {\r\n                    handleMsg.submit(e);\r\n                }}\r\n                className=\"middle-container-footer p-4 d-flex justify-content-between align-items-center\"\r\n            >\r\n                <div className=\"d-flex justify-content-between\">\r\n                    <span\r\n                        className=\"icon fs-3\"\r\n                        aria-label=\"Mở hành động khác\"\r\n                        role=\"button\"\r\n                    >\r\n                        <FontAwesomeIcon icon={faPlus} />\r\n                    </span>\r\n                    <span\r\n                        className=\"icon fs-3 mx-3\"\r\n                        aria-label=\"Đính kèm file\"\r\n                        role=\"button\"\r\n                    >\r\n                        <FontAwesomeIcon icon={faImage} />\r\n                    </span>\r\n                    <span\r\n                        className=\"icon fs-3\"\r\n                        aria-label=\"Chọn emoji\"\r\n                        role=\"button\"\r\n                    >\r\n                        <FontAwesomeIcon icon={faFaceLaughBeam} />\r\n                    </span>\r\n                </div>\r\n\r\n                <div className=\"user-input-chat\">\r\n                    <input\r\n                        type=\"text\"\r\n                        className=\"rounded py-2 px-3 fs-4\"\r\n                        placeholder=\"Text your message here...\"\r\n                        maxLength=\"3500\"\r\n                        style={{\r\n                            border: \"1px solid var(--color-primary)\",\r\n                        }}\r\n                        value={message}\r\n                        onChange={(e) => handleMsg.changeInputMsg(e)}\r\n                        autoFocus\r\n                    />\r\n                </div>\r\n                <span\r\n                    className=\"icon fs-3 d-flex justify-content-end align-items-center\"\r\n                    style={{\r\n                        width: \"fit-content\",\r\n                        borderRadius: \"0.5rem\",\r\n                        padding: \"0.8rem\",\r\n                    }}\r\n                    aria-label=\"Thả cảm xúc\"\r\n                >\r\n                    <FontAwesomeIcon icon={faThumbsUp} />\r\n                </span>\r\n            </form>\r\n        );\r\n    };\r\n\r\n    const renderConversation = () => {\r\n        return currentConversation ? (\r\n            <div className=\"middle-container\">\r\n                {renderTitleConversation()}\r\n                {renderBodyConversation()}\r\n                {renderFooterConversation()}\r\n            </div>\r\n        ) : (\r\n            <div\r\n                className=\"h-100 d-flex justify-content-center align-items-center fs-1 text-center\"\r\n                style={{\r\n                    fontWeight: \"bold\",\r\n                }}\r\n            >\r\n                Hãy chọn một đoạn chat hoặc bắt đầu cuộc trò chuyện mới\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className=\"middle-msg-page relative\">\r\n                {/* <MagicBell\r\n                    apiKey=\"84b8e554127e05465dcec54678d0f49859b4a548\"\r\n                    userEmail=\"mary@example.com\"\r\n                >\r\n                    {(props) => (\r\n                        <FloatingNotificationInbox height={500} {...props} />\r\n                    )}\r\n                </MagicBell> */}\r\n                {renderConversation()} {renderConfirmPopup()}\r\n                {/* <EmojiPicker /> */}\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Middle;\r\n","import { useEffect, useState } from \"react\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n    faUser,\r\n    faBellSlash,\r\n    faBell,\r\n} from \"@fortawesome/free-regular-svg-icons\";\r\nimport {\r\n    faMagnifyingGlass,\r\n    faCaretDown,\r\n    faFont,\r\n    faPhotoFilm,\r\n    faFile,\r\n    faLink,\r\n    faCommentSlash,\r\n    faUserXmark,\r\n    faTriangleExclamation,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport \"../../../../style/pages/messages/right/right.css\";\r\n\r\nimport Photo from \"../../../../assets/avatar/profile-pic.png\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst Right = () => {\r\n    const [active, setActive] = useState(\"\");\r\n    const [isChoose, setIsChoose] = useState(false);\r\n    const [currentConversation, setCurrentConversation] = useState(null);\r\n    const [titleConversation, setTitleConversation] = useState(null);\r\n\r\n    const currentRoom = useSelector((state) => {\r\n        return state.room.room?.currentRoom;\r\n    });\r\n\r\n    useEffect(() => {\r\n        let isCancelled = false;\r\n\r\n        if (currentRoom && !isCancelled) {\r\n            const roomData = currentRoom.data;\r\n\r\n            if (roomData && roomData._id) {\r\n                const value = roomData._id;\r\n\r\n                setCurrentConversation(value);\r\n            }\r\n        }\r\n\r\n        return () => {\r\n            isCancelled = true;\r\n        };\r\n    }, [currentRoom]);\r\n\r\n    const friendName = useSelector((state) => {\r\n        return state.user.user.currentUser?.user;\r\n    });\r\n\r\n    useEffect(() => {\r\n        let isCancelled = false;\r\n\r\n        if (friendName && !isCancelled) {\r\n            if (friendName._id) {\r\n                const value = friendName.username;\r\n\r\n                setTitleConversation(value);\r\n            }\r\n        }\r\n\r\n        return () => {\r\n            isCancelled = true;\r\n        };\r\n    }, [currentConversation]);\r\n\r\n    const handleChoose = (setting) => {\r\n        setActive(setting);\r\n        setIsChoose((isChoose) => !isChoose);\r\n    };\r\n\r\n    const renderAvatarUser = () => {\r\n        return (\r\n            <div className=\"right-container-header d-flex flex-column align-items-center mb-4\">\r\n                <img\r\n                    loading=\"lazy\"\r\n                    role=\"presentation\"\r\n                    decoding=\"async\"\r\n                    src={Photo}\r\n                    alt=\"Avatar user\"\r\n                    className=\"rounded-circle right-avatar-chat\"\r\n                />\r\n                <p className=\"mt-2 mb-0 fs-4 fw-bold\">{titleConversation}</p>\r\n                <span className=\"opacity-75\">Online 3mins ago</span>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const renderActionUser = () => {\r\n        return (\r\n            <div className=\"right-container-body d-flex justify-content-between fs-5\">\r\n                {/* PROFILE */}\r\n                <div className=\"d-flex flex-column align-items-center\">\r\n                    <span\r\n                        className=\"p-3 rounded-circle text-center mb-2 icon\"\r\n                        style={{ width: \"4rem\", height: \"4rem\" }}\r\n                    >\r\n                        <FontAwesomeIcon icon={faUser} />\r\n                    </span>\r\n                    <span>Profile</span>\r\n                </div>\r\n                {/* TURN OFF NOTIFICATION */}\r\n                <div className=\"d-flex flex-column align-items-center\">\r\n                    <span\r\n                        className=\"p-3 rounded-circle text-center mb-2 icon\"\r\n                        style={{ width: \"4rem\", height: \"4rem\" }}\r\n                    >\r\n                        <FontAwesomeIcon icon={faBellSlash} />\r\n                    </span>\r\n                    <span>Turn off notification</span>\r\n                </div>\r\n                {/* SEARCH */}\r\n                <div className=\"d-flex flex-column align-items-center\">\r\n                    <span\r\n                        className=\"p-3 rounded-circle text-center mb-2 icon\"\r\n                        style={{ width: \"4rem\", height: \"4rem\" }}\r\n                    >\r\n                        <FontAwesomeIcon icon={faMagnifyingGlass} />\r\n                    </span>\r\n                    <span>Search</span>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const renderSettingChat = () => {\r\n        return (\r\n            <div\r\n                className=\"d-flex justify-content-between fs-4 mb-0 p-3 drop-menu\"\r\n                onClick={() => {\r\n                    handleChoose(\"SETTING-CHAT\");\r\n                }}\r\n            >\r\n                <p className=\"mb-0\">Setting this chat</p>\r\n                <span>\r\n                    <FontAwesomeIcon\r\n                        icon={faCaretDown}\r\n                        style={{\r\n                            transform: `${\r\n                                active === \"SETTING-CHAT\" && isChoose\r\n                                    ? \"rotate(180deg)\"\r\n                                    : \"rotate(0deg)\"\r\n                            }`,\r\n                        }}\r\n                    />\r\n                </span>\r\n            </div>\r\n        );\r\n    };\r\n    const renderSubSettingChat = () => {\r\n        return (\r\n            isChoose &&\r\n            active === \"SETTING-CHAT\" && (\r\n                <ul className=\"ps-0 fs-4 ms-4\">\r\n                    <li className=\"drop-menu-item p-3\">\r\n                        <div>\r\n                            <span className=\"icon\">😃</span>\r\n                            <span>Change emotion</span>\r\n                        </div>\r\n                    </li>\r\n                    <li className=\"drop-menu-item p-3\">\r\n                        <div>\r\n                            <span className=\"icon\">\r\n                                <FontAwesomeIcon icon={faFont} />\r\n                            </span>\r\n                            <span>Change nickname</span>\r\n                        </div>\r\n                    </li>\r\n                    <li className=\"drop-menu-item p-3\">\r\n                        <div>\r\n                            <span className=\"icon\">\r\n                                <FontAwesomeIcon icon={faMagnifyingGlass} />\r\n                            </span>\r\n                            <span>Search in chat</span>\r\n                        </div>\r\n                    </li>\r\n                </ul>\r\n            )\r\n        );\r\n    };\r\n\r\n    const renderViewFile = () => {\r\n        return (\r\n            <div\r\n                className=\"d-flex justify-content-between fs-4 mb-0 p-3 drop-menu\"\r\n                onClick={() => {\r\n                    handleChoose(\"SETTING-FILE\");\r\n                }}\r\n            >\r\n                <p className=\"mb-0\">Videos, files and links</p>\r\n                <span>\r\n                    <FontAwesomeIcon\r\n                        icon={faCaretDown}\r\n                        style={{\r\n                            transform: `${\r\n                                active === \"SETTING-FILE\" && isChoose\r\n                                    ? \"rotate(180deg)\"\r\n                                    : \"rotate(0deg)\"\r\n                            }`,\r\n                        }}\r\n                    />\r\n                </span>\r\n            </div>\r\n        );\r\n    };\r\n    const renderSubViewFile = () => {\r\n        return (\r\n            isChoose &&\r\n            active === \"SETTING-FILE\" && (\r\n                <ul className=\"ps-0 fs-4 ms-3\">\r\n                    <li className=\"drop-menu-item p-3\">\r\n                        <div>\r\n                            <span className=\"icon\">\r\n                                <FontAwesomeIcon icon={faPhotoFilm} />\r\n                            </span>\r\n                            <span>Media</span>\r\n                        </div>\r\n                    </li>\r\n                    <li className=\"drop-menu-item p-3\">\r\n                        <div>\r\n                            <span className=\"icon\">\r\n                                <FontAwesomeIcon icon={faFile} />\r\n                            </span>\r\n                            <span>File</span>\r\n                        </div>\r\n                    </li>\r\n                    <li className=\"drop-menu-item p-3\">\r\n                        <div>\r\n                            <span className=\"icon\">\r\n                                <FontAwesomeIcon icon={faLink} />\r\n                            </span>\r\n                            <span>Links</span>\r\n                        </div>\r\n                    </li>\r\n                </ul>\r\n            )\r\n        );\r\n    };\r\n\r\n    const renderSettingPrivateAndPrivacy = () => {\r\n        return (\r\n            <div\r\n                className=\"d-flex justify-content-between fs-4 mb-0 p-3 drop-menu\"\r\n                onClick={() => {\r\n                    handleChoose(\"SETTING-PRIVATE\");\r\n                }}\r\n            >\r\n                <p className=\"mb-0\">Private and support</p>\r\n                <span>\r\n                    <FontAwesomeIcon\r\n                        icon={faCaretDown}\r\n                        style={{\r\n                            transform: `${\r\n                                active === \"SETTING-PRIVATE\" && isChoose\r\n                                    ? \"rotate(180deg)\"\r\n                                    : \"rotate(0deg)\"\r\n                            }`,\r\n                        }}\r\n                    />\r\n                </span>\r\n            </div>\r\n        );\r\n    };\r\n    const renderSubSettingPrivateAndPrivacy = () => {\r\n        return (\r\n            isChoose &&\r\n            active === \"SETTING-PRIVATE\" && (\r\n                <ul className=\"ps-0 fs-4 ms-3\">\r\n                    <li className=\"drop-menu-item p-3\">\r\n                        <div>\r\n                            <span className=\"icon\">\r\n                                <FontAwesomeIcon icon={faBell} />\r\n                            </span>\r\n                            <span>Turn off notification</span>\r\n                        </div>\r\n                    </li>\r\n                    <li className=\"drop-menu-item p-3\">\r\n                        <div>\r\n                            <span className=\"icon\">\r\n                                <FontAwesomeIcon icon={faCommentSlash} />\r\n                            </span>\r\n                            <span>Delete chat</span>\r\n                        </div>\r\n                    </li>\r\n                    <li className=\"drop-menu-item p-3\">\r\n                        <div>\r\n                            <span className=\"icon\">\r\n                                <FontAwesomeIcon icon={faUserXmark} />\r\n                            </span>\r\n                            <span>Block user</span>\r\n                        </div>\r\n                    </li>\r\n                    <li className=\"drop-menu-item p-3\">\r\n                        <div>\r\n                            <span className=\"icon\">\r\n                                <FontAwesomeIcon icon={faTriangleExclamation} />\r\n                            </span>\r\n                            <span>Report</span>\r\n                        </div>\r\n                    </li>\r\n                </ul>\r\n            )\r\n        );\r\n    };\r\n\r\n    return (\r\n        currentConversation && (\r\n            <div className=\"right-msg-page p-4\">\r\n                <div className=\"right-container scrollbar d-flex flex-column align-items-center\">\r\n                    {renderAvatarUser()}\r\n                    {renderActionUser()}\r\n                    <div className=\"right-container-footer mt-4 d-flex flex-column justify-content-center ps-0\">\r\n                        <>\r\n                            {renderSettingChat()}\r\n                            {renderSubSettingChat()}\r\n                        </>\r\n                        <>\r\n                            {renderViewFile()}\r\n                            {renderSubViewFile()}\r\n                        </>\r\n                        <>\r\n                            {renderSettingPrivateAndPrivacy()}\r\n                            {renderSubSettingPrivateAndPrivacy()}\r\n                        </>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    );\r\n};\r\n\r\nexport default Right;\r\n","import \"../../style/pages/messages/messages.css\";\r\n\r\nimport KAYO_AVATAR from \"../../assets/avatar/kayo.jpg\";\r\n\r\nimport Navigation from \"../../layout/navigation/Navigation\";\r\nimport Left from \"./sidebar/left/Left\";\r\nimport Middle from \"./sidebar/middle/Middle\";\r\nimport Right from \"./sidebar/right/Right\";\r\n\r\nfunction Messages() {\r\n    return (\r\n        <>\r\n            <Navigation title=\"Login\" link=\"/register\" />\r\n            <div className=\"messages\">\r\n                <Left avatarUser={KAYO_AVATAR} />\r\n                <Middle />\r\n                <Right />\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Messages;\r\n","import userService from \"../../services/user.service\";\r\nimport {\r\n    loginStart,\r\n    loginSuccess,\r\n    loginFailed,\r\n    registerStart,\r\n    registerSuccess,\r\n    registerFailed,\r\n    logoutStart,\r\n    logoutSuccess,\r\n    logoutFailed,\r\n} from \"../authSlice\";\r\n\r\nexport const loginUser = async (user, dispatch, navigate) => {\r\n    dispatch(loginStart());\r\n    try {\r\n        const res = await userService.loginUser(user);\r\n        dispatch(loginSuccess(res.data));\r\n        navigate(\"/\");\r\n    } catch (error) {\r\n        dispatch(loginFailed());\r\n    }\r\n};\r\n\r\nexport const registerUser = async (user, dispatch, navigate) => {\r\n    dispatch(registerStart());\r\n    try {\r\n        const res = await userService.createUser(user);\r\n        dispatch(registerSuccess(res.data));\r\n    } catch (err) {\r\n        dispatch(registerFailed());\r\n    }\r\n};\r\n\r\nexport const logout = async (dispatch, navigate) => {\r\n    dispatch(logoutStart());\r\n    try {\r\n        dispatch(logoutSuccess());\r\n        navigate(\"/\");\r\n    } catch (err) {\r\n        dispatch(logoutFailed());\r\n    }\r\n};\r\n","import axios from \"axios\";\r\nimport { BASE_URL } from \"../constants/backend.url.constant\";\r\n\r\n//WORK TO BACKEND\r\nconst commonConfig = {\r\n    headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\",\r\n    },\r\n};\r\n\r\nconst api = axios.create({\r\n    baseURL: BASE_URL,\r\n    ...commonConfig,\r\n});\r\n\r\nexport default api;\r\n","import api from \"./api.service\";\r\n\r\nclass UserService {\r\n    async getAllUsers() {\r\n        return await api.get(\"/api/v1/all-users\").data;\r\n    }\r\n\r\n    async loginUser(data) {\r\n        return await api.post(\"/api/v1/user/login\", data);\r\n    }\r\n\r\n    async createUser(data) {\r\n        return await api.post(\"/api/v1/user/register\", data).data;\r\n    }\r\n\r\n    async getUser(userID) {\r\n        return await api.get(`/api/v1/user/${userID}`);\r\n    }\r\n\r\n    async updateUser(id, data) {\r\n        return await api.put(`/api/v1/user/${id}`, data).data;\r\n    }\r\n\r\n    async deleteAllUsers() {\r\n        return await api.delete(\"/api/v1/user/delete-all\").data;\r\n    }\r\n    async deleteUserById(id) {\r\n        return await api.get(`/api/v1/user/delete/${id}`).data;\r\n    }\r\n}\r\n\r\nexport default new UserService();\r\n"],"names":["BASE_URL","SOCKET_URL","props","title","link","user","useSelector","state","auth","login","currentUser","data","userID","_id","dispatch","useDispatch","navigate","useNavigate","handleLogout","logout","className","style","height","to","Form","type","placeholder","width","htmlFor","onClick","loading","role","decoding","src","ProfilePic","alt","RoomService","api","roomID","getRoomsByUserID","getRoomStart","roomService","res","getRoomSuccess","getRoomFailed","getCurrentRoom","getUserByID","getUserStart","userService","getUserSuccess","getUserFailed","conversation","avatarUser","onlineUsers","filterMessages","useState","setUser","friends","setFriends","isOnline","setIsOnline","friendID","participants","find","p","useEffect","isCancelled","then","forEach","friend","includes","borderRadius","username","toLowerCase","setOnlineFriends","filter","f","rooms","setRooms","currentChat","setCurrentChat","setFriendID","setOnlineUsers","setFilterMessages","sender","catch","error","console","socketRef","useRef","handleSocket","getUsersOnline","useCallback","userList","users","Object","values","value","some","u","current","io","socket","emit","on","off","onChange","e","target","map","r","MessageService","message","id","msgID","sendMessage","sendMessageStart","messageService","sendMessageSuccess","sendMessageFailed","getMessagesByRoomID","getMessageStart","getMessageSuccess","getMessageFailed","deleteMessage","deleteMessageStart","deleteMessageSuccess","deleteMessageFailed","useTimeAgo","timestamp","currentTime","moment","fromNow","setMessage","active","setActive","messageID","setMessageID","messageThread","setMessageThread","currentConversation","setCurrentConversation","titleConversation","setTitleConversation","formatTime","scrollRef","now","Date","time","getHours","getMinutes","friendName","serverResponse","log","receivedMessage","roomId","prevMessageThread","disconnect","msg","currentRoom","room","roomData","handleMsg","changeInputMsg","submit","preventDefault","newMessage","alert","deleteMsg","isCancalled","keys","key","handlePopup","scrollIntoView","behavior","block","Photo","icon","faPhone","faVideo","faCircleInfo","index","cursor","faEllipsisVertical","createdAt","ref","onSubmit","faPlus","faImage","faFaceLaughBeam","maxLength","border","autoFocus","padding","faThumbsUp","fontWeight","stopPropagation","isChoose","setIsChoose","handleChoose","setting","faUser","faBellSlash","faMagnifyingGlass","faCaretDown","transform","faFont","faPhotoFilm","faFile","faLink","faBell","faCommentSlash","faUserXmark","faTriangleExclamation","Navigation","KAYO_AVATAR","loginUser","loginStart","loginSuccess","loginFailed","registerUser","registerStart","registerSuccess","registerFailed","logoutStart","logoutSuccess","err","logoutFailed","axios","baseURL","headers","Accept","UserService"],"sourceRoot":""}